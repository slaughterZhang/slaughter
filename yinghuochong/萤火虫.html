<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			html,body{
				width: 100%;
				height: 100%;
			}
			img{
				width: 7px;
				height: 7px;
				position: absolute;
			}
			#bg{
				width: 100%;
				height: 100%;
				background: url(QQ图片20170412162109.jpg) no-repeat center center;
				background-size: cover;
			}
		</style>
	</head>
	<body>
		<div id="bg">
			<img src=""style="display: none;"/>
		</div>
	</body>
	<script src="../170411/jquery-2.1.0.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(function(){
			
			var num = 120; //萤火虫个数
			
			for(var i = 0; i < num; i++){
				var fireworm = new Object();
				fireworm.element = $("<img src='QQ图片20170412155209.gif'/>");
				$("#bg").append(fireworm.element);
				
				fireworm.showPoint = function(){
					var x = Math.random() * ($("div").width() - $("img").width());
					var y = Math.random() * ($("div").height() - $("img").height());
					var point = {
						pointX:x,
						pointY:y
					}
					return point;
				}
				
				fireworm.show = function(){
					this.element.css({
						"left": this.showPoint().pointX,
						"top": this.showPoint().pointY
					})
				}
				
				fireworm.speed = function(){
					return (Math.random()*4+3)*1000;
				}
				
				fireworm.move = function(){
					var that = this;
					this.element.animate({
						"left": this.showPoint().pointX,
						"top": this.showPoint().pointY
					},this.speed(),function(){that.move()})
				}
				
				fireworm.show();
				fireworm.move();
			}
		})
		console.log($("img").width());
	</script>
</html>
